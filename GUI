--[[
	 __  __              _____   _   _ 
	|  \/  |     /\     |_   _| | \ | |
	| \  / |    /  \      | |   |  \| |
	| |\/| |   / /\ \     | |   | . ` |
	| |  | |  / ____ \   _| |_  | |\  |
	|_|  |_| /_/    \_\ |_____| |_| \_|
--]]
local Player = game.Players.LocalPlayer
local Mouse = Player:GetMouse()
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGuiService = game:GetService("CoreGui")
local RunService = game:GetService("RunService")
local TextService = game:GetService("TextService")

local TweenTime = 0.1
local Level = 1

local GlobalTweenInfo = TweenInfo.new(TweenTime)
local AlteredTweenInfo = TweenInfo.new(TweenTime, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)

local function Tween(GuiObject, Dictionary)
	local TweenBase = TweenService:Create(GuiObject, GlobalTweenInfo, Dictionary)
	TweenBase:Play()
	return TweenBase
end

local function GetXY(GuiObject)
	local X, Y = Mouse.X - GuiObject.AbsolutePosition.X, Mouse.Y - GuiObject.AbsolutePosition.Y
	local MaxX, MaxY = GuiObject.AbsoluteSize.X, GuiObject.AbsoluteSize.Y
	X, Y = math.clamp(X, 0, MaxX), math.clamp(Y, 0, MaxY)
	return X, Y, X/MaxX, Y/MaxY
end

local UILibrary = {}

function UILibrary.Load(GUITitle)

	local LTO = Instance.new("ScreenGui")
	LTO.Name = "MainGui"
	LTO.ZIndexBehavior = Enum.ZIndexBehavior.Global
	LTO.ResetOnSpawn = false
	if game.PlaceId == 8204899140 or RunService:IsStudio() then
		LTO.Parent = game.Players.LocalPlayer.PlayerGui
	else
		LTO.Parent = CoreGuiService
	end


	local Drag = Instance.new("Frame")
	Drag.Name = "Drag"
	Drag.Selectable = true
	Drag.Active = true
	Drag.Parent = LTO
	Drag.Position = UDim2.new(0.719, 0,0.684, 0)
	Drag.Size = UDim2.new(0.273, 0,0.039, 0)
	Drag.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Drag.BackgroundTransparency = 1
	Drag.Draggable = true
	Drag.ZIndex = 2

	local Main = Instance.new("ImageLabel")
	Main.Name = "Main"
	Main.Parent = Drag
	Main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Main.BackgroundTransparency = 1
	Main.BorderColor3 = Color3.fromRGB(0, 0, 0)
	Main.Position = UDim2.new(0, 0,-0.03, 0)
	Main.Size = UDim2.new(1, 0,7.67, 0)
	Main.Image = "rbxassetid://8999998448"
	
	local TextLabel = Instance.new("TextLabel")
	TextLabel.Name = "TextLabel"
	TextLabel.Text = GUITitle
	TextLabel.Font = "SourceSansBold"
	TextLabel.TextColor3 = Color3.fromRGB(80, 80, 80)
	TextLabel.Parent = Drag
	TextLabel.BackgroundTransparency = 1
	TextLabel.Position = UDim2.new(0.461, 0,0.711, 0)
	TextLabel.Size = UDim2.new(0.073, 0,0.422, 0)
	TextLabel.TextScaled = true
	TextLabel.TextWrapped = true
	TextLabel.TextXAlignment = "Center"
	TextLabel.ZIndex = 4

	local TabLibrary = {}

	function TabLibrary.AddPage(PageTitle, PlayerBarIncluded)

		local Tab = Instance.new("Frame")
		Tab.Name = PageTitle
		Tab.Parent = Drag
		Tab.Position = UDim2.new(0.039, 0,2.478, 0)
		Tab.Size = UDim2.new(0.916, 0,4.565, 0)
		Tab.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		Tab.BackgroundTransparency = 1

		local UIList = Instance.new("UIListLayout")
		UIList.Parent = Tab
		UIList.Padding = UDim.new(0.05,0)
		UIList.HorizontalAlignment = "Center"

		local PageLibrary = {}

		function PageLibrary.AddButton(Text, Callback)

			local ButtonMain = Instance.new("ImageButton")
			ButtonMain.Name = "ButtonMain"
			ButtonMain.Parent = Tab
			ButtonMain.BackgroundTransparency = 1
			ButtonMain.Size = UDim2.new(0.952, 0,0.178, 0)
			ButtonMain.ZIndex = 3
			ButtonMain.Image = "rbxassetid://9000049257"
			
			local TextLabel = Instance.new("TextLabel")
			TextLabel.Name = "TextLabel"
			TextLabel.Text = Text
			TextLabel.Font = "SourceSansBold"
			TextLabel.TextColor3 = Color3.fromRGB(80, 80, 80)
			TextLabel.Parent = ButtonMain
			TextLabel.BackgroundTransparency = 1
			TextLabel.Position = UDim2.new(0.033, 0,0.113, 0)
			TextLabel.Size = UDim2.new(0.289, 0,0.67, 0)
			TextLabel.TextScaled = true
			TextLabel.TextWrapped = true
			TextLabel.TextXAlignment = "Left"
			TextLabel.ZIndex = 4

--[[
			local function Button()
				local Color = true
				Inside.MouseButton1Down:Connect(function()
					if Color == true then
						Color = not Color
						Inside.BackgroundColor3 = Color3.fromRGB(170,170,170)
					else
						Color = not Color
						Inside.BackgroundColor3 = Color3.fromRGB(46,46,46)
					end
					Callback()
				end)
			end
			coroutine.wrap(Button)()
			
			--]]
		end
	--[[
	|   |   |   |   |   |   |   |   |   |
	|   |   |   |   |   |   |   |   |   |
	|   |   |   |   |   |   |   |   |   |
	--]]

		return PageLibrary


	end
	return TabLibrary


end
return UILibrary
